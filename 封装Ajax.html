<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>12.26封装Ajax</title>
</head>
<body>
    <script>
        function Ajax (method, url, flag, data, callBack){
            var xml;
            var oDate = new Date();
            var timer = oDate.getTime();
            if(window.XMLHttpRequest) {
                xml = new window.XMLHttpRequest;
            }else {
                xml = new window.ActiveXObject('Microsoft.XMLHTTP');
            }
            if (method == 'get') {
                xml.open(method ,url+'?'+data +'&timer='+ timer ,flag);
                xml.send();
            }else{
                xml.open(method, url,flag);
                xml.setRequestHeader('content-type','application/x-www-form-urlencoded');
                xml.send(data);
            }
            xml.onReadyStateChange = function() {
                if(xml.readyState === 4){
                    if(xml.status == 200){
                        callBack(xml.responseText)
                    }
                }
            }
        }
        
    </script>
</body>
</html>